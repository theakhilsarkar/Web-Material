# 📘 Lecture 5.1: State and Props

## 📌 What is State?

**State** is a built-in object in React components that holds data or information about the component. When the state of a component changes, React re-renders the component to reflect those changes.

### 🔍 Key Points

* Managed within the component.
* Can change over time.
* Triggers re-rendering when updated.

### 🧠 Example:

```jsx
import React, { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
}
```

---

## 📌 What are Props?

**Props** (short for properties) are used to pass data from one component to another. They are read-only and cannot be modified by the receiving component.

### 🔍 Key Points

* Passed from parent to child.
* Immutable (cannot be changed by child).
* Allow component reuse with different data.

### 🧠 Example:

```jsx
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

function App() {
  return <Welcome name="Akhil" />;
}
```

---

## 🔄 State vs Props

| Feature       | State                    | Props                          |
| ------------- | ------------------------ | ------------------------------ |
| Ownership     | Managed within component | Passed from parent             |
| Mutability    | Mutable                  | Immutable                      |
| Usage         | Local data handling      | Component communication        |
| Change Impact | Triggers re-render       | Does not cause re-render alone |

---

## 🛠️ Practical Use Case

### 📝 Task: Create a Profile Card

```jsx
function ProfileCard(props) {
  const [likes, setLikes] = useState(0);

  return (
    <div>
      <h2>{props.name}</h2>
      <p>Profession: {props.profession}</p>
      <p>Likes: {likes}</p>
      <button onClick={() => setLikes(likes + 1)}>Like</button>
    </div>
  );
}

function App() {
  return <ProfileCard name="Akhil" profession="Developer" />;
}
```

---

# 📘 Lecture 5.2: Component Life Cycle

## 📌 What is the Component Lifecycle?

React components go through a lifecycle of events:

1. **Mounting** – Component is being inserted into the DOM.
2. **Updating** – Component is being re-rendered due to state/props changes.
3. **Unmounting** – Component is removed from the DOM.

---

## 🔄 Lifecycle Phases in Class Components

| Phase      | Method                    | Purpose                           |
| ---------- | ------------------------- | --------------------------------- |
| Mounting   | `constructor()`           | Set initial state                 |
|            | `componentDidMount()`     | API calls or subscriptions        |
| Updating   | `shouldComponentUpdate()` | Optimize performance              |
|            | `componentDidUpdate()`    | Reacts to prop/state changes      |
| Unmounting | `componentWillUnmount()`  | Cleanup (timers, listeners, etc.) |

### 🧠 Example (Class Component):

```jsx
class Timer extends React.Component {
  constructor(props) {
    super(props);
    this.state = { seconds: 0 };
  }

  componentDidMount() {
    this.interval = setInterval(() => {
      this.setState(prev => ({ seconds: prev.seconds + 1 }));
    }, 1000);
  }

  componentWillUnmount() {
    clearInterval(this.interval);
  }

  render() {
    return <h2>Timer: {this.state.seconds}s</h2>;
  }
}
```

---

## ⚙️ Lifecycle with Hooks (Functional Components)

React Hooks like `useEffect()` let you simulate lifecycle methods in functional components.

### 🧠 Example:

```jsx
import React, { useState, useEffect } from 'react';

function Timer() {
  const [seconds, setSeconds] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setSeconds(prev => prev + 1);
    }, 1000);

    return () => clearInterval(interval); // Cleanup on unmount
  }, []); // Empty dependency = run once on mount

  return <h2>Timer: {seconds}s</h2>;
}
```

---

## 🔁 Summary of Hook Equivalents

| Lifecycle Phase | Class Component          | Functional (Hook)                      |
| --------------- | ------------------------ | -------------------------------------- |
| Mount           | `componentDidMount()`    | `useEffect(() => {...}, [])`           |
| Update          | `componentDidUpdate()`   | `useEffect(() => {...}, [dependency])` |
| Unmount         | `componentWillUnmount()` | `useEffect` with cleanup return        |

---

## 🎯 Use Case: Fetching Data on Mount

```jsx
useEffect(() => {
  fetch("https://api.example.com/data")
    .then(res => res.json())
    .then(data => setData(data));
}, []); // Fetch data once on mount
```

---

## ✅ Quick Recap: 10 MCQs

**1. What is the first method called in a class component's lifecycle?**
A) render()
B) constructor()
C) componentDidMount()
D) componentWillUnmount()
**Answer: B**

**2. Which hook is used to replicate lifecycle behavior in functional components?**
A) useState
B) useEffect
C) useRef
D) useMemo
**Answer: B**

**3. What does useEffect return?**
A) A JSX element
B) An object
C) A cleanup function
D) Nothing
**Answer: C**

**4. When is componentWillUnmount() called?**
A) Before mounting
B) After state change
C) When component is removed from DOM
D) After render
**Answer: C**

**5. What is the purpose of componentDidMount()?**
A) To handle state
B) To perform cleanup
C) To make API calls after mounting
D) To update UI
**Answer: C**

**6. What causes useEffect to re-run?**
A) Only mount
B) State/prop changes listed in its dependency array
C) Component unmount
D) Never
**Answer: B**

**7. Which phase is responsible for performance optimization?**
A) Mounting
B) Updating
C) Unmounting
D) Rendering
**Answer: B**

**8. Which hook allows us to simulate componentWillUnmount()?**
A) useEffect with cleanup function
B) useState
C) useReducer
D) useMemo
**Answer: A**

**9. What does an empty dependency array in useEffect mean?**
A) Runs on every render
B) Runs once on mount
C) Never runs
D) Runs on state change only
**Answer: B**

**10. What is the final phase of a component's lifecycle?**
A) Rendering
B) Mounting
C) Updating
D) Unmounting
**Answer: D**
